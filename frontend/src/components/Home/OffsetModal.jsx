import React, { Component } from 'react';
import styles from '../../styles/Home.module.css';
import IMAGES from '../../images';
import Flexbox from 'flexbox-react';
import Charity from './Charity';
import { Button } from 'reactstrap';

const CHARITIES = [
  {
    name: 'Cool Earth',
    ratePerKg: 0.00134,
    reference: '',
    blurb:
      'Cool Earth is perhaps the most effective carbon offset charity. Their mission is to economically empower rural amazonian communities, relieving pressure to sell their forest land to loggers. They have a proven track-record of preventing amazonian deforestation.',
    donateLink: 'https://www.coolearth.org/get-involved/donate-cool-earth/',
    infoLink: 'https://www.coolearth.org/what-we-do/our-approach/'
  },
  {
    name: 'Vegan Outreach',
    ratePerKg: 0.00691,
    reference: '',
    blurb:
      'Eating a vegan diet is not only humane, it is one of the best ways to reduce carbon emissions. Vegan Outreach simultaneously reduces both emissions and animal cruelty by running the longest and most successful leafletting program for introducing people to veganism.',
    donateLink: 'https://hub.veganoutreach.org/page/8609/donate/1?ea.tracking.id=don',
    infoLink: 'https://veganoutreach.org/category/about/'
  },
  {
    name: 'Solar Aid',
    ratePerKg: 0.01,
    reference: '',
    blurb:
      'Burning kerosene as a light source is toxic and expensive for the user, as well as polluting for the environment. Solar Aid provides impoverished communities in Malawi, Uganda and Zambia with reliable solar-powered lights to replace the use of kerosene lamps.',
    donateLink: 'https://solar-aid.org/donate/',
    infoLink: 'https://solar-aid.org/how/'
  },
  {
    name: 'Enfin',
    ratePerKg: 1.0,
    reference: '',
    blurb:
      "Since our project is somewhat indirect, it's difficult to accurately calculate the offset efficiency. We humbly estimate to be 100x less effective than the next best option. Enfin uses your donations to maintain and improve the Enfin service. Our mission is to encourage people in the developed world to understand and act on their carbon footprint.",
    donateLink: '',
    infoLink: ''
  }
];

//TODO: retrieve offset charity list from backend with request rather than having them hard coded in twice
class OffsetModal extends Component {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <div className={styles.modal}>
        <h1 className={styles.modalTitle}>Offset Your Emissions</h1>
        <p className={styles.centerNoFlex}>
          Compensate for the emissions you've generated by donating to a charity that actively
          eliminates CO2 emissions from the atmosphere. <br />
          <Button outline color="primary">
            How does offsetting work?
          </Button>
        </p>
        <hr />

        <Flexbox className={styles.center}>
          {CHARITIES.map(charInfo => {
            let isEnfin = charInfo.name === 'Enfin';
            let charImage = IMAGES[charInfo.name];
            return (
              <Charity
                name={charInfo.name}
                blurb={charInfo.blurb}
                ratePerKg={charInfo.ratePerKg}
                donateLink={charInfo.donateLink}
                infoLink={charInfo.infoLink}
                disabled={isEnfin}
                extraImagePadding={isEnfin}
                image={charImage}
              />
            );
          })}
        </Flexbox>
      </div>
    );
  }
}

export default OffsetModal;
